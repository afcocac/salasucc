<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:p="http://primefaces.org/ui"
      xmlns:f="http://java.sun.com/jsf/core">

    <body>

        <ui:composition template="./template.xhtml">
            <ui:define name="left">
                <h:form>
                    <h:outputLink value="buscar.xhtml"> Salas </h:outputLink> 
                    <br />
                    <h:commandLink action="#{buscarBean.cerrarSesion}" value="Cerrar Sesión"/>
                </h:form>
            </ui:define>

            <ui:define name="content">

                <h:form>
                    <h1>Horarios</h1>
                    <p>Horarios de las salas:</p>
                    
                    <p:tabView value="#{buscarBean.listaSalas}" var="sala">
                        <p:tab title="#{sala.nombre}">
                            <p:schedule value="#{sala.reservasSchedule}" view="agendaWeek" rightHeaderTemplate="agendaWeek,agendaDay" draggable="false" resizable="false" allDaySlot="false" minTime="6" maxTime="22" locale="es" ignoreTimezone="false" />
                        </p:tab>
                    </p:tabView>

                </h:form>

                <script type="text/javascript">
                    PrimeFaces.locales['es'] = {
                        closeText: 'Cerrar',
                        prevText: 'Anterior',
                        nextText: 'Siguiente',
                        monthNames: ['Enero','Febrero', 'Marzo', 'Abril', 'Mayo', 'Junio', 'Julio', 'Agosto', 'Septiembre', 'Octubre', 'Noviembre', 'Diciembre'],
                        monthNamesShort: ['Ene', 'Feb', 'Mar', 'Abr', 'May', 'Jun','Jul','Ago','Sep','Oct','Nov','Dic'],
                        dayNames: ['Domingo','Lunes','Martes','Miércoles','Jueves','Viernes','Sábado'],
                        dayNamesShort: ['Dom','Lun', 'Mar', 'Mie', 'Jue', 'Vie', 'Sab'],
                        dayNamesMin: ['D','L','M','X','J','V','S'],
                        weekHeader: 'Semana',
                        firstDay: 1,
                        isRTL: false,
                        showMonthAfterYear: false,
                        yearSuffix: '',
                        timeOnlyTitle: 'Sólo hora',
                        timeText: 'Tiempo',
                        hourText: 'Hora',
                        minuteText: 'Minuto',
                        secondText: 'Segundo',
                        currentText: 'Fecha actual',
                        ampm: false,
                        month: 'Mes',
                        week: 'Semana',
                        day: 'Día',
                        allDayText : 'Todo el día'
                    };
                </script>

            </ui:define>

        </ui:composition>

    </body>
</html>